# Autogenerated from KST: please remove this line if doing any edits by hand!

package spec::perl::TestSwitchManualIntSizeEos;

use strict;
use warnings;
use base qw(Test::Class);
use Test::More;
use SwitchManualIntSizeEos;

sub test_switch_manual_int_size_eos: Test(10) {
    my $r = SwitchManualIntSizeEos->from_file('src/switch_tlv.bin');

    is(scalar(@{$r->chunks()}), 4, 'Equals');
    is(@{$r->chunks()}[0]->code(), 17, 'Equals');
    is(@{$r->chunks()}[0]->body()->body()->title(), "Stuff", 'Equals');
    is(@{$r->chunks()}[0]->body()->body()->author(), "Me", 'Equals');
    is(@{$r->chunks()}[1]->code(), 34, 'Equals');
    is_deeply(@{$r->chunks()}[1]->body()->body()->entries(), ["AAAA", "BBBB", "CCCC"], 'Equals');
    is(@{$r->chunks()}[2]->code(), 51, 'Equals');
    is(@{$r->chunks()}[2]->body()->body(), pack('C*', (16, 32, 48, 64, 80, 96, 112, 128)), 'Equals');
    is(@{$r->chunks()}[3]->code(), 255, 'Equals');
    is(@{$r->chunks()}[3]->body()->body(), pack('C*', ()), 'Equals');
}

Test::Class->runtests;
