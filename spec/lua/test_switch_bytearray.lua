-- Autogenerated from KST: please remove this line if doing any edits by hand!

local luaunit = require("luaunit")

require("switch_bytearray")

TestSwitchBytearray = {}

function TestSwitchBytearray:test_switch_bytearray()
    local r = SwitchBytearray:from_file("src/switch_opcodes.bin")

    luaunit.assertEquals(#r.opcodes, 4)
    luaunit.assertEquals(r.opcodes[0 + 1].code, "\083")
    luaunit.assertEquals(r.opcodes[0 + 1].body.value, "foobar")
    luaunit.assertEquals(r.opcodes[1 + 1].code, "\073")
    luaunit.assertEquals(r.opcodes[1 + 1].body.value, 66)
    luaunit.assertEquals(r.opcodes[2 + 1].code, "\073")
    luaunit.assertEquals(r.opcodes[2 + 1].body.value, 55)
    luaunit.assertEquals(r.opcodes[3 + 1].code, "\083")
    luaunit.assertEquals(r.opcodes[3 + 1].body.value, "")
end
