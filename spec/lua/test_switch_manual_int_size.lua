-- Autogenerated from KST: please remove this line if doing any edits by hand!

local luaunit = require("luaunit")

require("switch_manual_int_size")

TestSwitchManualIntSize = {}

function TestSwitchManualIntSize:test_switch_manual_int_size()
    local r = SwitchManualIntSize:from_file("src/switch_tlv.bin")

    luaunit.assertEquals(#r.chunks, 4)
    luaunit.assertEquals(r.chunks[0 + 1].code, 17)
    luaunit.assertEquals(r.chunks[0 + 1].body.title, "Stuff")
    luaunit.assertEquals(r.chunks[0 + 1].body.author, "Me")
    luaunit.assertEquals(r.chunks[1 + 1].code, 34)
    luaunit.assertEquals(r.chunks[1 + 1].body.entries, {"AAAA", "BBBB", "CCCC"})
    luaunit.assertEquals(r.chunks[2 + 1].code, 51)
    luaunit.assertEquals(r.chunks[2 + 1].body, "\016\032\048\064\080\096\112\128")
    luaunit.assertEquals(r.chunks[3 + 1].code, 255)
    luaunit.assertEquals(r.chunks[3 + 1].body, "")
end
